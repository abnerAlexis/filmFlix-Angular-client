<div class="container">
  <!-- User Information Card -->
  <!-- <mat-card class="user">
    <mat-card-header class="header">
      <mat-card-title>{{user.Username}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Email: {{user.Email}}</p>
      <p>Birthday: {{user.Birthday | date }}</p>
    </mat-card-content>
  </mat-card> -->


  <!-- Edit User Information Form -->
  <mat-card class="edit-userinfo">
    <mat-card-header class="header">
      <mat-card-title>Update Profile</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form #userForm="ngForm">
        <!-- Username Field -->
        <label>Username:</label>
        <mat-form-field class="inputs">
          <input matInput [(ngModel)]="user.Username" placeholder="Username" type="text" name="Username" required>
        </mat-form-field>

        <!-- Password Field -->
        <label>Password:</label>
        <mat-form-field class="inputs">
          <input matInput [(ngModel)]="user.Password" placeholder="Password" type="password" name="Password" required>
        </mat-form-field>


        <!-- Email Field -->
        <label>Email:</label>
        <mat-form-field class="inputs">
          <input matInput [(ngModel)]="user.Email" placeholder="Email" type="email" name="Email" required>
        </mat-form-field>


        <!-- Birthday Field -->
        <label>Birthday:</label>
        <mat-form-field class="inputs">
          <input matInput [(ngModel)]="user.Birthday" placeholder="Birthday" type="date" name="Birthday" required>
        </mat-form-field>
      </form>


      <!-- Form Actions -->
      <mat-card-actions class="actions">
        <button mat-raised-button class="button-update" (click)="backToMovie()" type="submit">
          Go Back
        </button>
        <button mat-raised-button class="button-delete" (click)="deleteAccount()">
          Delete
        </button>
        <button mat-raised-button class="button-update" (click)="editUserInfo()" type="submit">
          Update
        </button>
      </mat-card-actions>
    </mat-card-content>
  </mat-card>
</div>
<!-- Favorite Movies -->
<div>
  <h2>Favorite Movies</h2>
  <div class="movie-grid">
    <mat-card *ngFor="let movie of favoriteMovies">
      <mat-card-header>
        <mat-card-title>{{movie.Title}}</mat-card-title>
        <mat-card-subtitle>{{movie.Year}}</mat-card-subtitle>
      </mat-card-header>
      <img src={{movie.ImageURL}} alt={{movie.Title}} />
      <mat-card-actions>
        <button 
          mat-raised-button 
          (click)="openMovieInfoDialog('Genre', movie)">
          Genre
        </button>
        <button 
          mat-raised-button 
          (click)="openMovieInfoDialog('Director', movie)">
          Director
        </button>
        <button 
          mat-raised-button 
          (click)="openMovieInfoDialog('Synopsis', movie)">
          Synopsis
        </button>
        <mat-icon (click)="toggleFavorite(movie._id)"
          [style.color]="isFavorite(movie._id) ? '#A40101' : 'white'">favorite-border</mat-icon>
      </mat-card-actions>
    </mat-card>
  </div>
  <div *ngIf="!favoriteMovies || favoriteMovies.length === 0">
    <p>You don't have any favorite movies yet!</p>
  </div>
</div>